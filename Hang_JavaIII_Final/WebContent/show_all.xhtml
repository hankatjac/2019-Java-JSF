<!DOCTYPE html>
<html 
	lang="en" xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core" >
	
<f:metadata>
	<f:event type="preRenderView" listener="#{customerController.loadCustomerList()}"/>
</f:metadata>

<h:head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="Content-type" content="text/html" charset="utf-8" />
	<title>Customer Tracker</title>
	<h:outputStylesheet library = "css" name = "style.css" />
</h:head>

<h:body>
	<div id="wrapper" >
		<div id="header"> <h2>List of Customer</h2></div>
	</div>
	
	<div id="container" >
		<div id="content"> 
			<h:messages globalOnly = "true" />
		</div>
		<!-- add a new customer -->
		<h:button value ="Add Customer" styleClass="add-button" outcome="registration" />
	   <!-- /////////////////////////////////////  ADD A SEARCH BOX ///////////////////////////////////// -->
		<h:form>
	
			<h:outputLabel>Search Customer:</h:outputLabel> 
			<h:inputText value="#{customerController.theSearchName}" id="theSearchName" />
			<h:commandButton value="Search" action="show_all?faces-redirect=true" styleClass="add-button" />            
	          
	     </h:form>
			<!-- ///////////////////////////////////////////////////////////////////////////////////////////// -->
		
		
		
		<br/><br/>
		
		<h:form>
		
			<h:dataTable value="#{customerController.customerList}" var="tempCustomer"
																styleClass="demo-table"
																headerClass="demo-table-header"
																rowClasses="demo-table-odd-row, demo-table-even-row">
			
				<h:column>
					<f:facet name="header"> First Name</f:facet>
					#{tempCustomer.firstName}
				</h:column>
				
				<h:column>
					<f:facet name="header"> Last Name</f:facet>
					#{tempCustomer.lastName}
				</h:column>
				
				<h:column>
					<f:facet name="header"> Address</f:facet>
					#{tempCustomer.address}
				</h:column>
				
				<h:column>
					<f:facet name="header"> Phone Number</f:facet>
					#{tempCustomer.phoneNumber}
				</h:column>
				
				<h:column>
					<f:facet name="header">Email</f:facet>
					#{tempCustomer.email}
				</h:column>
				
				<h:column>
					<f:facet name="header">User Name</f:facet>
					#{tempCustomer.userName}
				</h:column>
				
				
				<h:column>
					<f:facet name="header">Password</f:facet>
					#{tempCustomer.passWord}
				</h:column>
				
				
				<h:column>
					<f:facet name="header">Type of Car</f:facet>
					#{tempCustomer.typeOfCar}
				</h:column>
				
				<h:column>
					<f:facet name="header">Brand</f:facet>
					#{tempCustomer.brand}
				</h:column>
				
				<h:column>
					<f:facet name="header">Start Date</f:facet>
					#{tempCustomer.startDate}
				</h:column>
				
				<h:column>
					<f:facet name="header">Number of Days</f:facet>
					#{tempCustomer.numberOfDays}
				</h:column>
				
				<h:column>
					<f:facet name="header">Rate</f:facet>
					#{tempCustomer.rate}
				</h:column>
				
				<h:column>
					<f:facet name="header">Total Price</f:facet>
					#{tempcustomer.totalPrice}
				</h:column>
				
				
				<h:column>
					<f:facet name="header"> Action</f:facet>
					<h:commandLink value="Update" 
					action="#{customerController.loadCustomer(tempCustomer.id)}" />
					<!-- ////////////////////// DELETTE ///////////////////// -->
					<br/>
					<!-- Used JavaScript -->
					<h:commandLink value="Delete"
						onclick="if (!confirm('Are you sure you want to delete this customer?')) return false"
						action="#{customerController.deleteCustomer(tempCustomer.id)}"/>
						
					<!-- //////////////////////////////////////////////////// -->
				</h:column>
			
				
					
			</h:dataTable>
		</h:form>
	</div>	
	
</h:body>


</html>